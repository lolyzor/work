<!DOCTYPE html>
<html>
    <head>
        <title>Elaw.my</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/jquery.mobile-1.3.0.min.css" />
        <script src="js/jquery-1.8.2.min.js"></script>
        <script src="js/jquery.mobile-1.3.0.min.js"></script>
    </head>
    <body>
        <div data-role="page" id="legislationSearch">
            <div data-role="content">
                <form id="simpleSearch">
                    <div data-role="fieldcontain">
                        <label for="ec">Search phrase</label>
                        <input type="text" name="ec" id="ec" value=""/>
                    </div>  
                    <fieldset data-role="controlgroup" data-mini="true">
                        <legend></legend>
                        <input type="radio" name="styp" id="document" value="1" checked="checked">
                        <label for="document">Full Document</label>
                        <input type="radio" name="styp" id="acttitle" value="2">
                        <label for="acttitle">Act title</label>
                        <input type="radio" name="styp" id="stitle" value="3">
                        <label for="stitle">Section Title</label>
                    </fieldset>
                    <label for="proximity">Proximity</label>
                    <select id="proximity" name="prxOpt" data-mini="true">
                        <option value="3">within page</option>
                        <option value="2">within pharagraph</option>
                        <option value="1">within sentence</option>
                    </select>
                    <label for="within">Within</label>
                    <select id="within" name="wprxOptWit" data-mini="true">
                        <option></option>
                        <option value="10">10 words</option>
                        <option value="20">20 words</option>
                        <option value="30">30 words</option>
                    </select>
                </form>
                <fieldset class="ui-grid-a">
                    <div class="ui-block-a">
                        <a href="" data-role="button" data-theme="e" data-mini="true" id="lsearchb">Search</a> 
                    </div>
                    <div class="ui-block-b">
                        <a href="" data-role="button" data-theme="e" data-mini="true" id="cancleb">Cancel</a>
                    </div>   
                </fieldset>
                <div data-role="collapsible" data-inset="false">
                    <h3>Advanced search</h3>
                    <form id="advanceSearch">
                        <label for="name">Without these words</label>
                        <input type="text" name="nc" id="nc" value=""  />    
                        <label for="name">Act number</label>
                        <input type="text" name="an" id="cn" value=""  />
                        <fieldset class="ui-grid-a">
                            <div class="ui-block-a">
                                <a href="" data-role="button" data-theme="e" data-mini="true" id="alsearchb">Search</a>        
                            </div>
                            <div class="ui-block-b">
                                <a href="" data-role="button" data-theme="e" data-mini="true" id="acancleb">Cancle</a>        
                            </div>   
                        </fieldset>      
                    </form>
                </div>
                <div data-role="footer" data-position="fixed" data-tap-toggle="false" data-id="footer1">        
                    <div data-role="navbar">
                        <ul id="footerList">
                            <li><a link="latest.html">Latest</a></li>
                            <li><a link="caseSearch.html" class="">Cases</a></li>
                            <li><a link="#" data-theme="b">Legislation</a></li>
                            <li><a href="#popupMenu" data-rel="popup" data-role="button" data-inline="true">More</a></li>
                        </ul>
                    </div><!-- /navbar -->
                </div><!-- /footer -->        
                <div data-role="popup" id="popupMenu" id="footerlist2">
                    <ul data-role="listview" data-inset="true" style="min-width:210px;">
                        <li><a link="references.html">References</a></li>
                        <li><a link="help.html">Help</a></li>                            
                    </ul>
                </div> 
            </div> <!-- content -->
            <script>
                function runIt(){
                    $("#legislationSearch li a").on('vclick',function(){
                        //console.log();
                        var url = $(this).attr('link');
                        if(url)
                        $.mobile.changePage(url);
                    });
                    $("#legislationSearch li a").on('vclick',function(){
                        //console.log();
                        var url = $(this).attr('link');
                        if(url)
                        $.mobile.changePage(url);
                    });
                    $("#legislationSearch #alsearchb").on("vclick",function(){ 
                        if(!$("#ec").val()){
                            return false;
                        }
                        var arg = $("#simpleSearch").serialize();
                        arg += $("#advanceSearch").serialize();
                        //console.log(args);   
                        $.args = arg;
                        $.page = false;
                        $.sortingLegislation = '';
                        $.lns = '';
                        $.mobile.changePage('searchItems2.html');
                    });
                    $("#legislationSearch #lsearchb").on("vclick",function(){
                        if(!$("#ec").val()){
                            return false;
                        }
                        //var key = $("#ec").val();
                        $.ec = $("#simpleSearch").serialize();
                        // console.log('ya');
                        $.args = $.ec;
                        $.page =false;
                        $.sortingLegislation = '';
                        $.lns = '';
                        $.mobile.changePage('searchItems2.html');
                    });
                    $("#legislationSearch #cancleb").on("vclick",function(){
                        $("#ec").val("");
                    });
                    $("#legislationSearch #acancleb").on("vclick",function(){
                        //$("#ec").val("");
                        $("input[type=text]").val("");
                    });       
                }
                $('#legislationSearch').on('pageinit', runIt);
            </script>        
        </div><!-- /page -->
    </body>
</html>
